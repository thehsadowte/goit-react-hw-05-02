"use strict";(self.webpackChunkmovies_api=self.webpackChunkmovies_api||[]).push([[186],{186:function(t,n,e){e.r(n);var r=e(861),c=e(439),a=e(757),u=e.n(a),i=e(791),o=e(689),s=e(228),f=e(323),p=e(184);n.default=function(){var t=(0,i.useState)([]),n=(0,c.Z)(t,2),e=n[0],a=n[1],l=(0,o.UO)().movieId,v=(0,i.useState)(!1),h=(0,c.Z)(v,2),d=h[0],m=h[1];if((0,i.useEffect)((function(){m(!0);var t=function(){var t=(0,r.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.kh)(l);case 3:n=t.sent,a(n),m(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),m("Error in Reviews",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[l]),e)return(0,p.jsxs)("div",{children:[!d&&e.length>0&&(0,p.jsx)("ul",{className:"flex flex-col gap-5",children:e.map((function(t){var n=t.id,e=t.author,r=t.content;return(0,p.jsxs)("li",{className:"shadow-reviews p-5 rounded",children:[(0,p.jsxs)("p",{className:"font-bold mb-2.5",children:["Author: ",e]}),(0,p.jsx)("p",{className:" text-justify",children:r})]},n)}))}),d&&(0,p.jsx)(f.Z,{}),0===e.length&&!d&&(0,p.jsx)("div",{children:"Sorry.. there are still no reviews "})]})}},228:function(t,n,e){e.d(n,{Bo:function(){return s},JZ:function(){return h},KZ:function(){return d},_3:function(){return l},cI:function(){return f},kP:function(){return v},kZ:function(){return m},kh:function(){return p},ts:function(){return o}});var r=e(861),c=e(757),a=e.n(c),u=e(263),i="eb6a90efbcc57ff077fbac6714044aa1";u.Z.defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var t=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("/movie/".concat(n,"?api_key=").concat(i));case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log("Error in getting film by id",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("/search/movie?api_key=".concat(i,"&query=").concat(n));case 3:return e=t.sent,r=e.data.results,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log("Error in getting film by keyword",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("/movie/".concat(n,"/credits?api_key=").concat(i));case 3:return e=t.sent,r=e.data.cast,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log("Error in getFilmCast",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("/movie/".concat(n,"/reviews?api_key=").concat(i));case 3:return e=t.sent,r=e.data.results,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log("Error in getting film reviews",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(n){return t.apply(this,arguments)}}();function l(t){if(t)return t.split("-")[0]}function v(t){return t?"".concat("https://image.tmdb.org/t/p/w500","/").concat(t):"https://www.jsconsulting.kz/assets/img/noImg.jpg"}function h(t){if(t)return t.map((function(t){return t.name})).join(", ")}function d(t){return parseFloat(t.toFixed(1))}function m(t){if(t){var n=d(t),e=parseFloat((n/10*100).toFixed(1));return"".concat(e,"%")}}}}]);
//# sourceMappingURL=186.9ba7974c.chunk.js.map